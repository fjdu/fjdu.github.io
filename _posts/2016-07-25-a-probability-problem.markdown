---
layout: post
title:  "一道概率题"
date:   2016-07-25 Mon 11:44:07
categories: math
---

**问题的背景**：一个单位有一个男厕一个女厕，每个一次只能供一个人用，两个都可以上锁。经常出现一个人去上厕所发现自己性别的那个里面已经有人而另外性别的那个空着的情况。

问题：如果取消男女厕所的区分，跑去上厕所却发现厕所被占据的几率会如何变化？

<p>
<b>解答</b>：假定这单位有 \(n\) 个男性，\(m\) 个女性，男性上厕所的几率为 \(p\), 女性上厕所的几率为 \(q\)。
</p>

在区分男女厕所的情形，

<ul>
<li> 男厕被占用的几率：\(P_\text{occ,M} = 1- (1-p)^n\) </li>
<li> 女厕被占用的几率：\(P_\text{occ,F} = 1- (1-q)^m\) </li>
</ul>

在不区分男女厕所的情形，

<ul>
<li> 两个厕所都被占据的几率：
\[
    \begin{split}
    P_\text{occ,N} = &1 - (1-p)^n (1-q)^m - n p (1-p)^{n-1} (1-q)^{m} - m q (1-q)^{m-1} (1-p)^n \\
    = & 1 - (1-p)^{n-1}(1-q)^{m-1} \left[(1-p)(1-q) + n p (1-q) + m q (1-p)\right]
    \end{split}
\]
</li>
<li>
假设 \(p=q\)，上式变成
\[
    1 - (1-p)^{n+m-1} \left[(n+m-1)p + 1\right]
\]
</li>
</ul>

<p>
<b>代入数字</b>：\(p\) 和 \(q\) 这两个参数我们并不知道，不过可以粗略估计一下。假设每个人每天在单位使用厕所的时间一共是 10 分钟，一共 8 小时在单位，那么，\(p = q = 1/48\)。假定 \(m = n = 30\)，得到
\[
\begin{split}
    P_\text{occ,M} &= P_\text{occ,F} = 0.47, \\
    P_\text{occ,N} &= 0.35,
\end{split}
\]
可见的确是有改善的。当然，如果某性别的人数明显更少，那么取消区分就会吃亏。
</p>
